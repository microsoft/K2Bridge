# Configuration

|                                                                                     | Helm Setting                    |                Default value                 | Optional | Note                                                                                                                 |
|:-----------------------------------------------------------------------------------:|---------------------------------|:--------------------------------------------:|:--------:|----------------------------------------------------------------------------------------------------------------------|
|                                    Replica Count                                    | replicaCount                    |                      2                       |    V     |                                                                                                                      |
|                             Private container registry                              | privateRegistry                 |                     NONE                     |    V     | Set the K8S secret to a private ACR                                                                                  |
|                                     Repository                                      | image.repository                | mcr.microsoft.com/azuredataexplorer/k2bridge |    V     | ACR and image name                                                                                                   |
|                                      Image tag                                      | image.tag                       |                 7.10_latest                  |    V     |                                                                                                                      |
|                                  Image pull policy                                  | image.pullPolicy                |                    Always                    |    V     |                                                                                                                      |
|                                 K2 listener address                                 | settings.bridgeListenerAddress  |             http://k2bridge:80/              |    V     | Leave as default for most use cases                                                                                  |
|                            Internal ES instance address                             | settings.metadataElasticAddress |        http://k2bridgees-master:9200         |    V     | Leave as default for most use cases                                                                                  |
|                            Show generated KustoQL query                             | settings.outputBackendQuery     |                     true                     |    V     | The generated KustoQL will be appended to the HTTP response from K2                                                  |
|                                   ADX cluster URL                                   | settings.adxClusterUrl          |                     NONE                     |    X     |                                                                                                                      |
|                                   ADX default DB                                    | settings.adxDefaultDatabaseName |                     NONE                     |    X     |                                                                                                                      |
|                                AAD client ID for ADX                                | settings.aadClientId            |                     NONE                     |    X     | 'Read' permissions set is all that K2 requires                                                                       |
|                                  AAD client secret                                  | settings.aadClientSecret        |                     NONE                     |    X     |                                                                                                                      |
|                                    AAD tenant ID                                    | settings.aadTenantId            |                     NONE                     |    X     |                                                                                                                      |
|                       ApplicationInsights instrumentation key                       | settings.instrumentationKey     |                     NONE                     |    V     | won't work without setting collectTelemetry to 'true'                                                                |
|                   Toggle telemetry sending to ApplicationInsights                   | settings.collectTelemetry       |                    false                     |    V     | when set to 'true' the instrumentation key must be provided                                                          |
|                          Toggle query related data logging                          | settings.enableQueryLogging     |                     true                     |    X     |                                                                                                                      |
|             Percentage of table to aggregate to generate dynamic columns             | settings.dynamicSamplePercentage     |                       100                       |     V     | Must be between 0-100.                                                                                                |